<mat-accordion>
  <div class="order-box">
    <mat-expansion-panel class="order-panel" (opened)="getProduct()">
      <mat-expansion-panel-header collapsedHeight="*" expandedHeight="*">
        <mat-panel-title>
          <div class="title-panel">
            <div class="title">
              {{translate.t1[language]}}
              <div class="title-number">
                {{order.basketNumber}}
              </div>
            </div>
            <div class="title">
              {{translate.t2[language]}}
              <div class="title-number">
                {{order.date | date: 'HH:mm  dd/MM/yy'}}
              </div>
            </div>
          </div>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="content">
        <div class="provider-title">
          <div class="img-comp" *ngIf="order.companyOwner.img; else emptyimg">
            <app-img [fs]="order.companyOwner.img" [dir]="'avatar'"></app-img>
          </div>
          <ng-container *ngIf="order.companyOwner">
          {{order.companyOwner.name}}
          </ng-container>
        </div>
        <div class="content-item" *ngFor="let item of getProducts">
          <div class="img-prod product-img">
            <app-img [fs]="item.orderOwner ? item.orderOwner.img : ''" [anyFs]="'assets/images/provider.svg'"></app-img>
          </div>
          <div class="info">
            <div class="title" *ngIf="item.orderOwner">
              {{item.orderOwner.name}}
            </div>
            <div class="price" *ngIf="item.orderOwner">
              {{item.orderOwner.price}} грн.
            </div>
            <div class="count">
              <button class="minus"></button>
              <div class="count-item">{{item.count}}</div>
              <button class="plus"></button>
            </div>
          </div>
        </div>
      </div>
    </mat-expansion-panel>
    <ng-container *ngIf="loadDeb">
      <div class="no-pay" *ngIf="order.status === 1">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7 0C3.14031 0 0 3.14009 0 7C0 10.8599 3.14031 14 7 14C10.8597 14 14 10.8599 14 7C14 3.14009 10.8597 0 7 0ZM7 13.1385C3.61523 13.1385 0.861538 10.3848 0.861538 7C0.861538 3.61523 3.61523 0.861538 7 0.861538C10.3848 0.861538 13.1385 3.61523 13.1385 7C13.1385 10.3848 10.3848 13.1385 7 13.1385Z" fill="white"/>
          <path d="M7.11157 4.9292C7.50947 4.9292 7.83203 4.60664 7.83203 4.20874C7.83203 3.81084 7.50947 3.48828 7.11157 3.48828C6.71367 3.48828 6.39111 3.81084 6.39111 4.20874C6.39111 4.60664 6.71367 4.9292 7.11157 4.9292Z" fill="white"/>
          <path d="M6.92174 6.10449C6.68395 6.10449 6.49097 6.29748 6.49097 6.53526V10.1968C6.49097 10.4346 6.68395 10.6276 6.92174 10.6276C7.15952 10.6276 7.3525 10.4346 7.3525 10.1968V6.53526C7.3525 6.29726 7.15952 6.10449 6.92174 6.10449Z" fill="white"/>
        </svg>
        <div class="no-pay-title">
          {{translate.status[language]}}
        </div>
      </div>
      <div class="no-pay" *ngIf="order.status > 1 && order.status < 4">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7 0C3.14031 0 0 3.14009 0 7C0 10.8599 3.14031 14 7 14C10.8597 14 14 10.8599 14 7C14 3.14009 10.8597 0 7 0ZM7 13.1385C3.61523 13.1385 0.861538 10.3848 0.861538 7C0.861538 3.61523 3.61523 0.861538 7 0.861538C10.3848 0.861538 13.1385 3.61523 13.1385 7C13.1385 10.3848 10.3848 13.1385 7 13.1385Z" fill="white"/>
          <path d="M7.11157 4.9292C7.50947 4.9292 7.83203 4.60664 7.83203 4.20874C7.83203 3.81084 7.50947 3.48828 7.11157 3.48828C6.71367 3.48828 6.39111 3.81084 6.39111 4.20874C6.39111 4.60664 6.71367 4.9292 7.11157 4.9292Z" fill="white"/>
          <path d="M6.92174 6.10449C6.68395 6.10449 6.49097 6.29748 6.49097 6.53526V10.1968C6.49097 10.4346 6.68395 10.6276 6.92174 10.6276C7.15952 10.6276 7.3525 10.4346 7.3525 10.1968V6.53526C7.3525 6.29726 7.15952 6.10449 6.92174 6.10449Z" fill="white"/>
        </svg>
        <div class="no-pay-title">
          {{translate.status1[language]}} {{order.totalPrice}} Грн.
        </div>
      </div>
      <div class="no-pay done" *ngIf="order.status === 4 && !debtorShow">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7 0C3.14031 0 0 3.14009 0 7C0 10.8599 3.14031 14 7 14C10.8597 14 14 10.8599 14 7C14 3.14009 10.8597 0 7 0ZM7 13.1385C3.61523 13.1385 0.861538 10.3848 0.861538 7C0.861538 3.61523 3.61523 0.861538 7 0.861538C10.3848 0.861538 13.1385 3.61523 13.1385 7C13.1385 10.3848 10.3848 13.1385 7 13.1385Z" fill="white"/>
          <path d="M7.11157 4.9292C7.50947 4.9292 7.83203 4.60664 7.83203 4.20874C7.83203 3.81084 7.50947 3.48828 7.11157 3.48828C6.71367 3.48828 6.39111 3.81084 6.39111 4.20874C6.39111 4.60664 6.71367 4.9292 7.11157 4.9292Z" fill="white"/>
          <path d="M6.92174 6.10449C6.68395 6.10449 6.49097 6.29748 6.49097 6.53526V10.1968C6.49097 10.4346 6.68395 10.6276 6.92174 10.6276C7.15952 10.6276 7.3525 10.4346 7.3525 10.1968V6.53526C7.3525 6.29726 7.15952 6.10449 6.92174 6.10449Z" fill="white"/>
        </svg>
        <div class="no-pay-title">
          {{translate.status4Done[language]}} {{order.totalPrice}} Грн.
        </div>
      </div>
      <div class="no-pay" *ngIf="order.status === 4 && debtorShow && debtor > 0">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7 0C3.14031 0 0 3.14009 0 7C0 10.8599 3.14031 14 7 14C10.8597 14 14 10.8599 14 7C14 3.14009 10.8597 0 7 0ZM7 13.1385C3.61523 13.1385 0.861538 10.3848 0.861538 7C0.861538 3.61523 3.61523 0.861538 7 0.861538C10.3848 0.861538 13.1385 3.61523 13.1385 7C13.1385 10.3848 10.3848 13.1385 7 13.1385Z" fill="white"/>
          <path d="M7.11157 4.9292C7.50947 4.9292 7.83203 4.60664 7.83203 4.20874C7.83203 3.81084 7.50947 3.48828 7.11157 3.48828C6.71367 3.48828 6.39111 3.81084 6.39111 4.20874C6.39111 4.60664 6.71367 4.9292 7.11157 4.9292Z" fill="white"/>
          <path d="M6.92174 6.10449C6.68395 6.10449 6.49097 6.29748 6.49097 6.53526V10.1968C6.49097 10.4346 6.68395 10.6276 6.92174 10.6276C7.15952 10.6276 7.3525 10.4346 7.3525 10.1968V6.53526C7.3525 6.29726 7.15952 6.10449 6.92174 6.10449Z" fill="white"/>
        </svg>
        <div class="no-pay-title">
          {{translate.status4Debtor[language]}} {{order.newDebtor ? order.newDebtor : debtor}} грн.
        </div>
      </div>
    </ng-container>
<!--    <div class="no-pay" *ngIf="order.status === 3">-->
<!--      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">-->
<!--        <path d="M7 0C3.14031 0 0 3.14009 0 7C0 10.8599 3.14031 14 7 14C10.8597 14 14 10.8599 14 7C14 3.14009 10.8597 0 7 0ZM7 13.1385C3.61523 13.1385 0.861538 10.3848 0.861538 7C0.861538 3.61523 3.61523 0.861538 7 0.861538C10.3848 0.861538 13.1385 3.61523 13.1385 7C13.1385 10.3848 10.3848 13.1385 7 13.1385Z" fill="white"/>-->
<!--        <path d="M7.11157 4.9292C7.50947 4.9292 7.83203 4.60664 7.83203 4.20874C7.83203 3.81084 7.50947 3.48828 7.11157 3.48828C6.71367 3.48828 6.39111 3.81084 6.39111 4.20874C6.39111 4.60664 6.71367 4.9292 7.11157 4.9292Z" fill="white"/>-->
<!--        <path d="M6.92174 6.10449C6.68395 6.10449 6.49097 6.29748 6.49097 6.53526V10.1968C6.49097 10.4346 6.68395 10.6276 6.92174 10.6276C7.15952 10.6276 7.3525 10.4346 7.3525 10.1968V6.53526C7.3525 6.29726 7.15952 6.10449 6.92174 6.10449Z" fill="white"/>-->
<!--      </svg>-->
<!--      <div class="no-pay-title">-->
<!--        {{translate.t3[language]}}-->
<!--      </div>-->
<!--    </div>-->
    <div class="basket-buttons">
      <div class="address">
        <div class="img">
          <app-img *ngIf="!order.deliveryAddress" [anyFs]="'assets/images/provider.svg'"></app-img>
          <app-img *ngIf="order.deliveryAddress" [fs]="order.deliveryAddress ? order.deliveryAddress.img : ''"
                   [dir]="'address'"
                   [anyFs]="'assets/images/provider.svg'"></app-img>
        </div>
        <div class="title">
            {{order.deliveryAddress ? order.deliveryAddress.name : translate.t4[language]}}
        </div>
        <div class="location">
          <svg width="11" height="15" viewBox="0 0 11 15" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M5.30184 3.28711C4.24472 3.28711 3.38428 4.14755 3.38428 5.20467C3.38428 6.2618 4.24472 7.12224 5.30184 7.12224C6.35897 7.12224 7.2194 6.2618 7.2194 5.20467C7.2194 4.14755 6.35897 3.28711 5.30184 3.28711ZM5.30184 6.57436C4.54659 6.57436 3.93215 5.95992 3.93215 5.20467C3.93215 4.44943 4.54659 3.83498 5.30184 3.83498C6.05709 3.83498 6.67153 4.44943 6.67153 5.20467C6.67153 5.95992 6.05709 6.57436 5.30184 6.57436Z" fill="black"/>
            <path d="M8.96801 1.53871C7.97581 0.546506 6.65653 0 5.25342 0C3.85004 0 2.53103 0.546506 1.53883 1.53871C-0.297373 3.37464 -0.525563 6.82899 1.04465 8.92187L5.25342 15L9.4559 8.93036C11.0324 6.82899 10.8042 3.37464 8.96801 1.53871ZM9.01157 8.61013L5.25342 14.0374L1.48925 8.60164C0.065046 6.7027 0.269129 3.5831 1.92645 1.92606C2.8151 1.0374 3.9966 0.547875 5.25342 0.547875C6.51025 0.547875 7.69174 1.0374 8.58067 1.92606C10.238 3.5831 10.4421 6.7027 9.01157 8.61013Z" fill="black"/>
          </svg>
        </div>
      </div>
      <div class="pay-method">
        {{translate.t5[language]}}
        <span class="pay-method-title">
        {{order.payMethod}}
      </span>
      </div>
      <div class="left">
        <div class="left-title">
          {{translate.t6[language]}}
        </div>
        <div class="left-price">
          {{order.totalPrice}} грн.
        </div>
      </div>
      <button class="right">
      <span class="status" [innerHTML]="order.status | status | safeHTML">
      </span>
      </button>
      <div class="cancel-order">
        <span *ngIf="order.status === 3" (click)="confirmChanges(order._id)">
           {{translate.t8[language]}}
        </span>
        <span *ngIf="order.status === 1 || order.status === 3" (click)="cancelOrder(order._id)">
            {{translate.t7[language]}}
          </span>
      </div>
    </div>
  </div>
</mat-accordion>

<ng-template #emptyimg>
  <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M10.2595 12.4805C10.0995 12.4805 9.96973 12.6117 9.96973 12.7734C9.96973 12.9352 10.0995 13.0664 10.2595 13.0664C10.4195 13.0664 10.5493 12.9352 10.5493 12.7734C10.5493 12.6117 10.4195 12.4805 10.2595 12.4805Z" fill="#009688"/>
    <path d="M12.9241 1.38961V0.878906C12.9241 0.394277 12.5341 0 12.0547 0H2.78186C2.30251 0 1.91253 0.394277 1.91253 0.878906V1.38961C0.0223999 4.91883 8.69332e-05 4.81403 0 4.98015C0 4.98026 0 4.98035 0 4.98047V5.56641C0 6.07421 0.290415 6.54647 0.753421 6.81504V14.707C0.753421 14.8688 0.883183 15 1.0432 15H13.7934C13.9534 15 14.0832 14.8688 14.0832 14.707V6.81504C14.5415 6.54671 14.8366 6.06888 14.8366 5.56641V4.98047C14.8366 4.98035 14.8366 4.98026 14.8366 4.98015C14.8365 4.81225 14.7958 4.8844 12.9241 1.38961ZM14.0567 4.6875H12.2636L11.2977 1.75781H12.463L14.0567 4.6875ZM10.0263 5.27344H11.765V5.56641C11.765 6.05103 11.375 6.44531 10.8956 6.44531C10.4163 6.44531 10.0263 6.05103 10.0263 5.56641V5.27344ZM9.98199 4.6875L9.49904 1.75781H10.6868L11.6527 4.6875H9.98199ZM2.49208 0.878906C2.49208 0.717363 2.62208 0.585938 2.78186 0.585938H12.0547C12.2145 0.585938 12.3445 0.717363 12.3445 0.878906V1.17188C12.0686 1.17188 2.77015 1.17188 2.49208 1.17188V0.878906ZM9.44674 5.27344V5.56641C9.44674 6.05103 9.05676 6.44531 8.57741 6.44531C8.09806 6.44531 7.70808 6.05103 7.70808 5.56641V5.27344H9.44674ZM7.70808 4.6875V1.75781H8.91149L9.39446 4.6875H7.70808ZM5.44216 4.6875L5.92513 1.75781H7.12852V4.6875H5.44216ZM7.12852 5.27344V5.56641C7.12852 6.05103 6.73854 6.44531 6.25919 6.44531C5.77984 6.44531 5.38986 6.05103 5.38986 5.56641V5.27344H7.12852ZM3.1839 4.6875L4.14981 1.75781H5.33755L4.85458 4.6875H3.1839ZM4.8103 5.27344V5.56641C4.8103 6.05103 4.42032 6.44531 3.94097 6.44531C3.46162 6.44531 3.07164 6.05103 3.07164 5.56641V5.27344H4.8103ZM2.37362 1.75781H3.53891L2.57299 4.6875H0.779849L2.37362 1.75781ZM0.579555 5.56641V5.27344H2.49208V5.56641C2.49208 6.0264 2.03629 6.44531 1.53582 6.44531C1.40965 6.44531 1.2789 6.41763 1.1572 6.36498C0.811695 6.21642 0.579555 5.89547 0.579555 5.56641ZM5.96941 14.4141H3.07164V11.8945H5.96941V14.4141ZM5.96941 11.3086H3.07164V8.78906H5.96941V11.3086ZM13.5036 14.4141H6.54897V8.49609C6.54897 8.33432 6.4192 8.20312 6.25919 8.20312H2.78186C2.62185 8.20312 2.49208 8.33432 2.49208 8.49609V14.4141H1.33298V7.01692C1.40015 7.02615 1.46781 7.03125 1.53582 7.03125C1.9172 7.03125 2.30272 6.8785 2.59345 6.61213C2.65775 6.55324 2.71565 6.49025 2.76761 6.42425C3.03113 6.79166 3.45878 7.03125 3.94097 7.03125C4.41444 7.03125 4.83551 6.80045 5.10008 6.44429C5.36465 6.80045 5.78572 7.03125 6.25919 7.03125C6.73266 7.03125 7.15373 6.80045 7.4183 6.44429C7.68287 6.80045 8.10394 7.03125 8.57741 7.03125C9.05087 7.03125 9.47195 6.80045 9.73652 6.44429C10.0011 6.80045 10.4222 7.03125 10.8956 7.03125C11.3778 7.03125 11.8055 6.79166 12.069 6.42425C12.1209 6.49025 12.1788 6.55321 12.2431 6.61213C12.5339 6.8785 12.9194 7.03125 13.3008 7.03125C13.3686 7.03125 13.4363 7.02633 13.5036 7.01704V14.4141ZM14.257 5.56641C14.257 5.90473 14.0163 6.22937 13.658 6.37427C13.5408 6.42144 13.4206 6.44531 13.3008 6.44531C12.8003 6.44531 12.3445 6.0264 12.3445 5.56641V5.27344H14.257V5.56641Z" fill="black"/>
    <path d="M10.8391 11.3086H10.5493V8.49609C10.5493 8.33432 10.4195 8.20312 10.2595 8.20312H6.78217C6.62216 8.20312 6.4924 8.33432 6.4924 8.49609V11.3086H6.20262C6.0426 11.3086 5.91284 11.4398 5.91284 11.6016C5.91284 11.7633 6.0426 11.8945 6.20262 11.8945H10.8391C10.9991 11.8945 11.1288 11.7633 11.1288 11.6016C11.1288 11.4398 10.9991 11.3086 10.8391 11.3086ZM9.96972 11.3086H7.07195V8.78906H9.96972V11.3086Z" fill="#29909E"/>
    <path d="M9.10043 12.4805H6.78221C6.62219 12.4805 6.49243 12.6117 6.49243 12.7734C6.49243 12.9352 6.62219 13.0664 6.78221 13.0664H9.10043C9.26044 13.0664 9.3902 12.9352 9.3902 12.7734C9.3902 12.6117 9.26044 12.4805 9.10043 12.4805Z" fill="#009688"/>
  </svg>
</ng-template>
