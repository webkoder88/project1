<ng-container *ngIf="!loading">
  <app-loading></app-loading>
</ng-container>
<div class="other-header">
  <app-back-btn></app-back-btn>
  <h2 *ngIf="loading && company">
    {{company ? company.name : 'Поставщик'}}
  </h2>
  <app-basket-item></app-basket-item>
</div>
<div class="other-pages" *ngIf="loading && company">
  <div class="popular-item">
    <ng-container *ngIf="me">
      <div class="favorite" (click)="favoriteCompany()">
        <div class="favorite-item" *ngIf="favoriteShow">
          <svg width="25" height="23" viewBox="0 0 25 23" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path class="heart-1" d="M12.4252 4.06308C13.4343 1.67153 15.7393 0.000499974 18.4204 0.000499974C22.0319 0.000499974 24.633 3.09006 24.96 6.77213C24.96 6.77213 25.1365 7.68615 24.748 9.33169C24.219 11.5727 22.9755 13.5638 21.2989 15.0833L12.4252 23.0005L3.70107 15.0828C2.02454 13.5638 0.781017 11.5722 0.252006 9.33119C-0.136502 7.68565 0.0400019 6.77164 0.0400019 6.77164C0.367008 3.08956 2.96806 0 6.57963 0C9.26119 0 11.4162 1.67153 12.4252 4.06308Z" fill="#009688"/>
            <path class="heart-2" d="M2.34004 7.3402C2.06353 7.3402 1.84003 7.11669 1.84003 6.84019C1.84003 4.08313 4.08307 1.84009 6.84013 1.84009C7.11663 1.84009 7.34014 2.06359 7.34014 2.3401C7.34014 2.6166 7.11663 2.84011 6.84013 2.84011C4.63458 2.84011 2.84005 4.63464 2.84005 6.84019C2.84005 7.11669 2.61654 7.3402 2.34004 7.3402Z" fill="white"/>
          </svg>
        </div>
        <div class="favorite-item" *ngIf="!favoriteShow">
          <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M24.9586 7.8091C24.5937 3.79252 21.7508 0.878411 18.1929 0.878411C15.8225 0.878411 13.6522 2.15396 12.431 4.19831C11.2208 2.12752 9.13946 0.87793 6.80712 0.87793C3.2497 0.87793 0.406266 3.79204 0.0418223 7.80862C0.0129745 7.98603 -0.105302 8.91974 0.254335 10.4424C0.772634 12.6387 1.96982 14.6364 3.71559 16.2182L12.4252 24.1221L21.2844 16.2187C23.0302 14.6364 24.2274 12.6392 24.7457 10.4424C25.1053 8.92022 24.987 7.98651 24.9586 7.8091ZM23.8095 10.2222C23.3364 12.2281 22.2397 14.0556 20.6411 15.5038L12.431 22.8287L4.36178 15.5057C2.76025 14.0546 1.66403 12.2276 1.19045 10.2217C0.850042 8.78079 0.989954 7.9668 0.990435 7.96151L0.997647 7.91295C1.31016 4.394 3.75309 1.83952 6.80712 1.83952C9.06061 1.83952 11.0444 3.22422 11.9858 5.45271L12.4286 6.50229L12.8714 5.45271C13.7979 3.25835 15.8865 1.84 18.1933 1.84C21.2469 1.84 23.6903 4.39448 24.0091 7.95911C24.01 7.9668 24.1499 8.78127 23.8095 10.2222Z" fill="#1C1C1C"/>
            <path d="M7.69228 3.80029C5.04116 3.80029 2.88431 5.95715 2.88431 8.60826C2.88431 8.87414 3.09922 9.08906 3.3651 9.08906C3.63099 9.08906 3.8459 8.87414 3.8459 8.60826C3.8459 6.48747 5.57148 4.76189 7.69228 4.76189C7.95816 4.76189 8.17307 4.54697 8.17307 4.28109C8.17307 4.01521 7.95768 3.80029 7.69228 3.80029Z" fill="#009688"/>
          </svg>
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="!me && language">
      <a class="favorite" [routerLink]="'/'+language+'/login'">
        <div class="favorite-item">
          <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M24.9586 7.8091C24.5937 3.79252 21.7508 0.878411 18.1929 0.878411C15.8225 0.878411 13.6522 2.15396 12.431 4.19831C11.2208 2.12752 9.13946 0.87793 6.80712 0.87793C3.2497 0.87793 0.406266 3.79204 0.0418223 7.80862C0.0129745 7.98603 -0.105302 8.91974 0.254335 10.4424C0.772634 12.6387 1.96982 14.6364 3.71559 16.2182L12.4252 24.1221L21.2844 16.2187C23.0302 14.6364 24.2274 12.6392 24.7457 10.4424C25.1053 8.92022 24.987 7.98651 24.9586 7.8091ZM23.8095 10.2222C23.3364 12.2281 22.2397 14.0556 20.6411 15.5038L12.431 22.8287L4.36178 15.5057C2.76025 14.0546 1.66403 12.2276 1.19045 10.2217C0.850042 8.78079 0.989954 7.9668 0.990435 7.96151L0.997647 7.91295C1.31016 4.394 3.75309 1.83952 6.80712 1.83952C9.06061 1.83952 11.0444 3.22422 11.9858 5.45271L12.4286 6.50229L12.8714 5.45271C13.7979 3.25835 15.8865 1.84 18.1933 1.84C21.2469 1.84 23.6903 4.39448 24.0091 7.95911C24.01 7.9668 24.1499 8.78127 23.8095 10.2222Z" fill="#1C1C1C"/>
            <path d="M7.69228 3.80029C5.04116 3.80029 2.88431 5.95715 2.88431 8.60826C2.88431 8.87414 3.09922 9.08906 3.3651 9.08906C3.63099 9.08906 3.8459 8.87414 3.8459 8.60826C3.8459 6.48747 5.57148 4.76189 7.69228 4.76189C7.95816 4.76189 8.17307 4.54697 8.17307 4.28109C8.17307 4.01521 7.95768 3.80029 7.69228 3.80029Z" fill="#009688"/>
          </svg>
        </div>
      </a>
    </ng-container>
    <ng-container *ngIf="discount">
      <div class="discount">
        {{discount}} %
      </div>
    </ng-container>
    <div class="img">
      <app-img [dir]="'avatar'" [fs]="company.img ? company.img : ''" [anyFs]="'assets/images/provider.svg'"></app-img>
    </div>
    <div class="block-info">
      <div class="block-title">
        {{company.name ? company.name : '--'}}
      </div>
      <div class="block-second">
        <div class="raiting">
          <mat-star-rating class="mat-rating"  [starCount]="5" [rating]="company.rating"></mat-star-rating>
        </div>
      </div>
      <div class="block-raiting">
        <app-work-time class="work-time" [data]="company.workTime" *ngIf="company.workTime"></app-work-time>
      </div>
      <div class="block-loyalty" *ngIf="company.createdBy.loyalty && company.createdBy.loyalty.enabled">
        <app-show-loyalty [single]="false" [provider]="true" [data]="company.createdBy.loyalty"></app-show-loyalty>
      </div>
    </div>
  </div>
  <div class="info-provider">
    <div class="tel">
      <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M11.8547 9.29201C11.5476 8.97226 11.1772 8.8013 10.7846 8.8013C10.3952 8.8013 10.0217 8.96909 9.70193 9.28884L8.70152 10.2861C8.6192 10.2418 8.53689 10.2006 8.45775 10.1595C8.34377 10.1025 8.23614 10.0486 8.14433 9.99166C7.20723 9.39648 6.35562 8.62085 5.53883 7.61727C5.1431 7.11707 4.87717 6.69601 4.68405 6.26862C4.94365 6.03118 5.18425 5.78424 5.41853 5.54681C5.50717 5.45816 5.59581 5.36635 5.68446 5.27771C6.34929 4.61288 6.34929 3.75177 5.68446 3.08694L4.82018 2.22266C4.72204 2.12452 4.62073 2.02321 4.52576 1.9219C4.33581 1.72562 4.13636 1.52301 3.93058 1.33306C3.62349 1.02913 3.25625 0.867676 2.87002 0.867676C2.48378 0.867676 2.11021 1.02913 1.79363 1.33306C1.79046 1.33622 1.79046 1.33622 1.78729 1.33939L0.710904 2.42528C0.305675 2.8305 0.0745678 3.32438 0.0239142 3.8974C-0.0520663 4.82183 0.220197 5.68294 0.429143 6.24646C0.942011 7.62994 1.70815 8.91211 2.85102 10.2861C4.23766 11.9418 5.90607 13.2493 7.81191 14.1706C8.54006 14.5157 9.51198 14.9241 10.5979 14.9937C10.6643 14.9969 10.734 15 10.7973 15C11.5286 15 12.1428 14.7373 12.624 14.2149C12.6272 14.2086 12.6335 14.2054 12.6367 14.1991C12.8013 13.9996 12.9912 13.8192 13.1907 13.6261C13.3268 13.4963 13.4661 13.3601 13.6023 13.2177C13.9157 12.8916 14.0803 12.5117 14.0803 12.1223C14.0803 11.7297 13.9125 11.353 13.5928 11.0364L11.8547 9.29201ZM12.9881 12.6257C12.9849 12.6257 12.9849 12.6288 12.9881 12.6257C12.8646 12.7586 12.738 12.8789 12.6018 13.0119C12.3961 13.2082 12.1871 13.4139 11.9908 13.6451C11.6711 13.987 11.2943 14.1484 10.8005 14.1484C10.753 14.1484 10.7023 14.1484 10.6548 14.1453C9.71459 14.0851 8.84081 13.7179 8.18548 13.4045C6.39361 12.537 4.82018 11.3055 3.51268 9.74473C2.43313 8.44356 1.71131 7.24054 1.23327 5.94887C0.938846 5.16057 0.831207 4.5464 0.878694 3.96705C0.910353 3.59664 1.05282 3.28955 1.31558 3.02679L2.39514 1.94723C2.55026 1.8016 2.71489 1.72246 2.87635 1.72246C3.0758 1.72246 3.23725 1.84276 3.33856 1.94407C3.34173 1.94723 3.34489 1.9504 3.34806 1.95356C3.54118 2.13402 3.7248 2.3208 3.91791 2.52025C4.01605 2.62156 4.11736 2.72287 4.21867 2.82734L5.08295 3.69162C5.41853 4.0272 5.41853 4.33745 5.08295 4.67303C4.99114 4.76484 4.90249 4.85665 4.81068 4.94529C4.54475 5.21756 4.29148 5.47083 4.01605 5.71776C4.00972 5.72409 4.00339 5.72726 4.00023 5.73359C3.72796 6.00585 3.77862 6.27179 3.8356 6.45224C3.83877 6.46174 3.84193 6.47123 3.8451 6.48073C4.06987 7.02526 4.38646 7.53813 4.86767 8.14914L4.87083 8.1523C5.74461 9.22869 6.66587 10.0676 7.68211 10.7103C7.81191 10.7926 7.94488 10.8591 8.07151 10.9224C8.18548 10.9794 8.29312 11.0332 8.38493 11.0902C8.39759 11.0965 8.41026 11.106 8.42292 11.1124C8.53056 11.1662 8.63187 11.1915 8.73634 11.1915C8.99911 11.1915 9.16373 11.0269 9.21755 10.9731L10.3003 9.89036C10.4079 9.78272 10.5789 9.65292 10.7783 9.65292C10.9746 9.65292 11.1361 9.77638 11.2342 9.88402C11.2374 9.88719 11.2374 9.88719 11.2405 9.89036L12.9849 11.6347C13.311 11.9577 13.311 12.2901 12.9881 12.6257Z" fill="#1C1C1C"/>
        <path d="M8.1063 3.56805C8.93575 3.70735 9.68922 4.09992 10.2907 4.70143C10.8922 5.30294 11.2816 6.05641 11.4241 6.88587C11.4589 7.09481 11.6394 7.24044 11.8452 7.24044C11.8705 7.24044 11.8926 7.23728 11.918 7.23411C12.1522 7.19612 12.3074 6.97451 12.2694 6.74024C12.0984 5.73666 11.6236 4.82173 10.8986 4.09675C10.1736 3.37177 9.25866 2.89689 8.25509 2.72594C8.02082 2.68795 7.80238 2.84307 7.76122 3.07418C7.72006 3.30529 7.87202 3.53006 8.1063 3.56805Z" fill="#009688"/>
        <path d="M14.9826 6.61682C14.7008 4.96424 13.922 3.46046 12.7253 2.26377C11.5286 1.06708 10.0249 0.288277 8.37228 0.00651579C8.14117 -0.0346403 7.92273 0.123652 7.88157 0.35476C7.84358 0.589033 7.99871 0.807477 8.23298 0.848633C9.70827 1.09873 11.0538 1.79839 12.1238 2.86528C13.1939 3.93534 13.8904 5.28083 14.1405 6.75611C14.1753 6.96506 14.3557 7.11069 14.5615 7.11069C14.5868 7.11069 14.609 7.10752 14.6343 7.10436C14.8654 7.06953 15.0237 6.84792 14.9826 6.61682Z" fill="#009688"/>
      </svg>
      <div class="text">
        <a href="tel:+38{{company.companyMobile ? company.companyMobile : company.createdBy.mobile}}">
          {{company.companyMobile ? "+38" + company.companyMobile : "+38" + company.createdBy.mobile}}
        </a>
      </div>
    </div>
    <div class="location">
      <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M7.5 0C4.59223 0 2.22656 2.36566 2.22656 5.27344C2.22656 6.25588 2.4987 7.21465 3.01374 8.04645L7.19982 14.7923C7.28001 14.9215 7.42128 15 7.57321 15C7.57438 15 7.57553 15 7.5767 15C7.72995 14.9988 7.87151 14.9179 7.95023 14.7864L12.0296 7.9752C12.5162 7.16098 12.7734 6.22673 12.7734 5.27344C12.7734 2.36566 10.4078 0 7.5 0ZM11.2754 7.52396L7.56656 13.7164L3.76075 7.58338C3.33205 6.89104 3.09961 6.09229 3.09961 5.27344C3.09961 2.85029 5.07686 0.873047 7.5 0.873047C9.92314 0.873047 11.8975 2.85029 11.8975 5.27344C11.8975 6.068 11.6803 6.84633 11.2754 7.52396Z" fill="#1C1C1C"/>
        <path d="M7.5 2.63672C6.04611 2.63672 4.86328 3.81955 4.86328 5.27344C4.86328 6.71804 6.02687 7.91016 7.5 7.91016C8.9913 7.91016 10.1367 6.70216 10.1367 5.27344C10.1367 3.81955 8.95389 2.63672 7.5 2.63672ZM7.5 7.03711C6.52567 7.03711 5.73633 6.24513 5.73633 5.27344C5.73633 4.30418 6.53074 3.50977 7.5 3.50977C8.46926 3.50977 9.26074 4.30418 9.26074 5.27344C9.26074 6.23095 8.48977 7.03711 7.5 7.03711Z" fill="#009688"/>
      </svg>
      <div class="text">
        {{company.city.name}} {{company.address}}
      </div>
    </div>
  </div>
  <ng-container *ngIf="company && actions && actions.length > 0">
    <div class="action">
      <div class="action-box">
        <ng-container *ngFor="let slide of actions; let i = index">
          <div [routerLink]="'/' + language +'/action/' + slide._id" class="action-item">
            <app-img class="img-s" [dir]="'product'" [fs]="slide.img ? slide.img : ''" [anyFs]="'assets/images/provider.svg'"></app-img>
          </div>
        </ng-container>
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="company && company.categories && company.categories.length > 0">
      <div class="category">
        <div class="category-header">
          <h3>
            {{translate.category[language]}}
          </h3>
          <a routerLink="/{{language}}/categoryProvider/{{id}}">
            {{translate.all[language]}}
          </a>
        </div>
        <div class="category-box">
              <div [appScrollSmooth]="catalog" class="category-box-item" *ngFor="let category of company.categories"
                   [class.active]="activeCategoryId === category._id && showCategory"
                   (click)="activeCategory(category._id)">
                <ng-container *ngIf="category.mainCategory">
                  <div class="svg">
                    <div class="img">
                      <app-img [fs]="category.mainCategory && category.mainCategory.img ? category.mainCategory.img : ''" [anyFs]="'assets/images/brand.svg'"></app-img>
                    </div>
                  </div>
                  <div class="title">
                    {{category.name}}
                  </div>
                </ng-container>
              </div>
        </div>
      </div>
  </ng-container>
  <ng-container *ngIf="company && company.brands && company.brands.length > 0">
    <div class="brandy">
      <div class="brandy-header">
        <h3>
          {{translate.brands[language]}}
        </h3>
        <a routerLink="/{{language}}/brandsProvider/{{id}}">
          {{translate.all[language]}}
        </a>
      </div>
      <div class="brandy-box">
        <ng-container *ngFor="let brand of company.brands">
            <ng-container *ngIf="brand">
              <div [appScrollSmooth]="catalog" class="brandy-box-item"
                   [class.active]="activeBrandsId === brand._id && showBrands"
                   (click)="activeBrands(brand._id)">
                <div class="svg">
                  <div class="img">
                    <app-img [dir]="'product'" [fs]="brand.img ? brand.img : ''" [anyFs]="'assets/images/brand.svg'"></app-img>
                  </div>
                </div>
                <div class="title">
                  {{brand.name}}
                </div>
              </div>
            </ng-container>
        </ng-container>
      </div>
    </div>
  </ng-container>
  <div class="catalog" [appScrollSmoothTouch]="catalog" #catalog>
    <ng-container *ngIf="company.categories.length > 0">
      <app-show-provider-category [catId]="activeCategoryId" [discount]="discount" *ngIf="showCategory"></app-show-provider-category>
      <app-show-provider-brands [brandId]="activeBrandsId" *ngIf="showBrands"></app-show-provider-brands>
    </ng-container>
  </div>
</div>
